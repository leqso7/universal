import{d as w,a as N,r as n,u as U,j as x,H as F}from"./index-D1eI-1v1.js";const v=[[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,1,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,1,1,0,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,1],[1,1,1,0,1,0,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,1,1,1,1,0,1,0,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,0,1,1,1,1,1,1,1,0,1,0,1,0,1],[1,0,0,0,0,0,0,0,1,0,0,0,1,0,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,0,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,1,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,1,1,0,1,0,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,1,0,1],[1,1,1,1,1,0,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,0,1,1,1,1,1,1,1,0,1,1,1,1,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,0,1,0,0,0,1],[1,0,1,1,1,0,1,0,1,0,1,0,1,0,1],[1,0,0,0,1,0,0,0,1,0,0,0,1,0,1],[1,1,1,0,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,0,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,1,0,1],[1,1,1,1,1,1,1,1,1,0,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,1,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,1,0,1],[1,0,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,0,1,1,1,1,1,1,1,0,1,0,1,0,1],[1,0,1,0,0,0,0,0,0,0,1,0,1,0,1],[1,0,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,0,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,1,0,0,0,1,0,0,0,0,0,1,0,1],[1,0,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,0,1,0,1,1,1,1,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,1,1,1,1,0,1,0,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,0,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,0,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,1,0,1],[1,1,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,0,1,1,1,1,1,1,1,0,1,1,1,1,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,1,1,0,1,0,1,1,1,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,1,0,1],[1,1,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,1,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,1,1,1,1,0,1,0,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,0,1,1,1,1,1,1,1,0,1,0,1,0,1],[1,0,0,0,0,0,0,0,1,0,0,0,1,0,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]],H=[{char1:"🐱",char2:"🐶",target1:"🐟",target2:"🦴",description:"კატა ეძებს თევზს, ძაღლი - ძვალს"},{char1:"🐭",char2:"🐰",target1:"🧀",target2:"🥕",description:"თაგვი ეძებს ყველს, კურდღელი - სტაფილოს"},{char1:"🦊",char2:"🐻",target1:"🍗",target2:"🍯",description:"მელია ეძებს ქათამს, დათვი - თაფლს"},{char1:"🐵",char2:"🐘",target1:"🍌",target2:"🥜",description:"მაიმუნი ეძებს ბანანს, სპილო - არაქისს"},{char1:"🦁",char2:"🦒",target1:"🥩",target2:"🌿",description:"ლომი ეძებს ხორცს, ჟირაფი - ფოთლებს"},{char1:"🐼",char2:"🦘",target1:"🎋",target2:"🌾",description:"პანდა ეძებს ბამბუკს, კენგურუ - ბალახს"},{char1:"🦅",char2:"🦝",target1:"🐠",target2:"🥚",description:"არწივი ეძებს თევზს, ენოტი - კვერცხს"},{char1:"🦍",char2:"🦦",target1:"🍎",target2:"🐚",description:"გორილა ეძებს ვაშლს, წავი - ნიჟარას"},{char1:"🦩",char2:"🦨",target1:"🦐",target2:"🍇",description:"ფლამინგო ეძებს კრევეტს, სკუნსი - ყურძენს"},{char1:"🦡",char2:"🦃",target1:"🍄",target2:"🌰",description:"მაჩვი ეძებს სოკოს, ინდაური - რკოს"},{char1:"🦫",char2:"🦥",target1:"🌳",target2:"🍃",description:"თახვი ეძებს ხეს, ზარმაცა - ფოთლებს"},{char1:"🦙",char2:"🦛",target1:"🌿",target2:"🌱",description:"ლამა ეძებს ბალახს, ბეჰემოთი - ლერწამს"},{char1:"🦌",char2:"🦊",target1:"🍁",target2:"🐇",description:"ირემი ეძებს ფოთოლს, მელია - კურდღელს"},{char1:"🦜",char2:"🦡",target1:"🥥",target2:"🍯",description:"თუთიყუში ეძებს ქოქოსს, მაჩვი - თაფლს"},{char1:"🦢",char2:"🦦",target1:"🐸",target2:"🐟",description:"გედი ეძებს ბაყაყს, წავი - თევზს"},{char1:"🦚",char2:"🦨",target1:"🪱",target2:"🍓",description:"ფარშევანგი ეძებს ჭიას, სკუნსი - მარწყვს"},{char1:"🦃",char2:"🦝",target1:"🌽",target2:"🍎",description:"ინდაური ეძებს სიმინდს, ენოტი - ვაშლს"},{char1:"🦘",char2:"🐨",target1:"🌾",target2:"🌿",description:"კენგურუ ეძებს ბალახს, კოალა - ევკალიპტს"},{char1:"🦬",char2:"🦅",target1:"🌱",target2:"🐍",description:"ბიზონი ეძებს ბალახს, არწივი - გველს"}],K=w.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
  background: linear-gradient(-45deg, #64ccf0cc, #80d0c7cc, #56bcbdcc, #52b69acc);
`,O=w.div`
  display: grid;
  grid-template-columns: repeat(15, 30px);
  gap: 1px;
  background: rgba(255, 255, 255, 0.1);
  padding: 10px;
  border-radius: 10px;
  margin: 20px 0;
`,V=w.div`
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  background-color: ${t=>t.isWall?"#4a90e2":"white"};
  border-radius: 4px;
`,X=w.h1`
  color: white;
  text-align: center;
  margin: 20px 0;
  font-size: 2rem;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
`;w.div`
  display: flex;
  gap: 10px;
  margin: 10px 0;
`;w.button`
  padding: 10px 20px;
  font-size: 1.2rem;
  background: ${t=>t.isSelected?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.5)"};
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(255, 255, 255, 0.7);
  }
`;const Y=w.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.9);
  padding: 20px 40px;
  border-radius: 10px;
  font-size: 1.5rem;
  color: #333;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  z-index: 1000;
  text-align: center;
`;w.button`
  padding: 10px 20px;
  font-size: 1.2rem;
  background: rgba(100, 100, 255, 0.7);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-top: 20px;

  &:hover {
    background: rgba(100, 100, 255, 0.9);
  }
`;const q=w.div`
  background: rgba(255, 255, 255, 0.9);
  padding: 15px;
  border-radius: 10px;
  margin: 10px 0;
  font-size: 1.2rem;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  
  .emoji-hint {
    font-size: 1.5rem;
    margin: 0 5px;
  }

  .active-character {
    background: rgba(100, 200, 255, 0.3);
    padding: 5px 10px;
    border-radius: 5px;
    margin: 5px;
    display: inline-block;
  }
`,E=(t,l=[],u=3,M=!1)=>{const h=[],k=(r,i)=>Math.abs(r.x-i.x)+Math.abs(r.y-i.y),m=(r,i)=>{const o=i.x-r.x,f=i.y-r.y,p=Math.max(Math.abs(o),Math.abs(f));for(let b=1;b<=p;b++){const s=r.x+Math.round(o*b/p),P=r.y+Math.round(f*b/p);if(t[P][s]===1)return!0}return!1};for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)if(t[r][i]===0){const o={x:i,y:r},f=l.some(s=>s&&s.x===i&&s.y===r),p=l.every(s=>!s||k(o,s)>=u),b=!M||l.every(s=>!s||m(o,s));!f&&p&&b&&h.push(o)}if(h.length===0)return u>1?E(t,l,u-1,M):null;const S={x:7,y:5};return h.sort((r,i)=>{const o=k(r,S);return k(i,S)-o}),h[Math.floor(Math.random()*Math.min(h.length,3))]},J=(t,l)=>!t||!l?!1:t.x>=0&&t.x<l[0].length&&t.y>=0&&t.y<l.length&&l[t.y][t.x]===0,Z=()=>{var G;N();const[t,l]=n.useState(0),[u,M]=n.useState(null),[h,k]=n.useState(null),[m,S]=n.useState(null),[r,i]=n.useState(null),[o,f]=n.useState("char1"),[p,b]=n.useState(!1),[s,P]=n.useState(!1),[L,A]=n.useState(!1),{updateGameProgress:T,getGameStats:R}=U(),C=n.useMemo(()=>R("labyrinth"),[R]),W=n.useMemo(()=>(C==null?void 0:C.completedTasks)||new Set,[C]),c=H[t],D=n.useCallback(()=>{const a=v[t];if(!a)return;const e=E(a,[],3);if(!e)return;const y=E(a,[e],3,!0);if(!y)return;const d=E(a,[e,y],3);if(!d)return;const j=E(a,[e,y,d],3,!0);j&&(M(e),S(y),k(d),i(j),b(!1),P(!1),A(!1),f("char1"))},[t]),$=n.useCallback(()=>{let a=0;for(;W.has(a)&&a<v.length;)a++;return a>=v.length?0:a},[W]);n.useEffect(()=>{t!=null&&D()},[t,D]),n.useEffect(()=>{const a=$();l(a)},[$]),n.useEffect(()=>{p&&!s&&f("char2")},[p]),n.useEffect(()=>{if(p&&s){A(!0);const a=Date.now();T("labyrinth",a,{mazeIndex:t,completed:!0}),setTimeout(()=>{l(e=>(e+1)%v.length),M(null),k(null),S(null),i(null),b(!1),P(!1),A(!1),f("char1")},1500)}},[p,s,t,T]);const z=a=>{const e=o==="char1"?u:h,y=o==="char1"?h:u;if(!e)return;let d=e.x,j=e.y;switch(a){case"up":j--;break;case"down":j++;break;case"left":d--;break;case"right":d++;break;default:return}const g={x:d,y:j};if(J(g,v[t])&&!(y&&g.x===y.x&&g.y===y.y)&&(o==="char1"?(M(g),g.x===m.x&&g.y===m.y&&(b(!0),s||f("char2"))):(k(g),g.x===r.x&&g.y===r.y&&(P(!0),p||f("char1"))),o==="char1"&&s&&g.x===m.x&&g.y===m.y||o==="char2"&&p&&g.x===r.x&&g.y===r.y)){A(!0);const B=Date.now();T("labyrinth",B,{taskIndex:t}),setTimeout(()=>{l(I=>I+1),D()},1500)}};return n.useEffect(()=>{const a=e=>{switch((e.key==="ArrowUp"||e.key==="w"||e.key==="ArrowDown"||e.key==="s"||e.key==="ArrowLeft"||e.key==="a"||e.key==="ArrowRight"||e.key==="d")&&e.preventDefault(),e.key){case"ArrowUp":case"w":z("up");break;case"ArrowDown":case"s":z("down");break;case"ArrowLeft":case"a":z("left");break;case"ArrowRight":case"d":z("right");break}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[z]),x.jsxs(K,{children:[x.jsx(F,{}),x.jsx(X,{children:"ლაბირინთი"}),x.jsxs(q,{children:[c.description,x.jsxs("div",{children:[x.jsxs("span",{className:`emoji-hint ${o==="char1"?"active-character":""}`,children:[c.char1,x.jsx("span",{children:"➡️"}),c.target1]}),"   ",x.jsxs("span",{className:`emoji-hint ${o==="char2"?"active-character":""}`,children:[c.char2,x.jsx("span",{children:"➡️"}),c.target2]})]})]}),L&&x.jsx(Y,{children:"გილოცავთ! თქვენ გაიარეთ ყველა დონე! 🎉"}),x.jsx(O,{children:(G=v[t])==null?void 0:G.map((a,e)=>a.map((y,d)=>x.jsx(V,{isWall:y===1,children:u&&u.x===d&&u.y===e?c==null?void 0:c.char1:h&&h.x===d&&h.y===e?c==null?void 0:c.char2:m&&m.x===d&&m.y===e&&!(u&&u.x===d&&u.y===e)?c==null?void 0:c.target1:r&&r.x===d&&r.y===e&&!(h&&h.x===d&&h.y===e)?c==null?void 0:c.target2:null},`${d}-${e}`)))})]})};export{Z as default};
